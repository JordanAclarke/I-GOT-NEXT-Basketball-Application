{"ast":null,"code":"import _objectSpread from \"/Users/JordanClarke/Desktop/basketball-meetup/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/JordanClarke/Desktop/basketball-meetup/client/src/components/SingleCourt.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect, Link } from 'react-router-dom';\nexport default class SingleCourt extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      court: {},\n      isEditFormDisplayed: false,\n      reDirectToHome: false,\n      isNewFormDisplayed: false,\n      players: [],\n      newPlayers: {\n        name: '',\n        ageGroup: '',\n        position: '',\n        bio: ''\n      }\n    };\n\n    this.getCourt = () => {\n      axios.get(\"/api/courts/\".concat(this.props.match.params.courtId)).then(res => {\n        this.setState({\n          court: res.data\n        });\n      });\n      axios.get(\"/api/courts/\".concat(this.props.match.params.courtId, \"/players\")).then(res => {\n        this.setState({\n          players: res.data\n        });\n      });\n    };\n\n    this.handleInputChange = event => {\n      const copiedCourt = _objectSpread({}, this.state.court);\n\n      copiedCourt[event.target.name] = event.target.value;\n      this.setState({\n        court: copiedCourt\n      });\n    };\n\n    this.handlePlayerInputChange = event => {\n      const copiedPlayer = _objectSpread({}, this.state.newPlayers);\n\n      copiedPlayer[event.target.name] = event.target.value;\n      this.setState({\n        players: copiedPlayer\n      });\n    };\n\n    this.handlePlayerSubmit = event => {\n      event.preventDefault();\n      axios.post(\"/api/courts/\".concat(this.props.match.params.courtId, \"/players\"), this.state.newPlayers).then(() => {\n        this.setState({\n          isNewFormDisplayed: false\n        });\n        this.getCourt();\n      });\n    };\n\n    this.handleToggleNewPlayerForm = () => {\n      this.setState(state => {\n        return {\n          isNewFormDisplayed: !state.isNewFormDisplayed\n        };\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      axios.put(\"/api/courts/\".concat(this.state.court._id), this.state.court).then(res => {\n        this.setState({\n          court: res.data,\n          isEditFormDisplayed: false\n        });\n      });\n    };\n\n    this.handleToggleEditForm = () => {\n      this.setState(state => {\n        return {\n          isEditFormDisplayed: !state.isEditFormDisplayed\n        };\n      });\n    };\n\n    this.handleDeleteCourt = () => {\n      axios.delete(\"/api/courts/\".concat(this.state.court._id)).then(() => {\n        this.setState({\n          reDirectToHome: true\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getCourt();\n  } //Test\n\n\n  render() {\n    if (this.state.reDirectToHome) {\n      return React.createElement(Redirect, {\n        to: \"/courts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }\n\n    return this.state.isEditFormDisplayed ? React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"court-gym-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Court Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"court-gym-name\",\n      name: \"gymName\",\n      onChange: this.handleInputChange,\n      value: this.state.court.gymName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"court-address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Address:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"court-address\",\n      name: \"address\",\n      onChange: this.handleInputChange,\n      value: this.state.court.address,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"court-number-of-players\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Players Needed:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"court-number-of-players\",\n      name: \"numberOfPlayers\",\n      onChange: this.handleInputChange,\n      value: this.state.court.numberOfPlayers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"entry-price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Entry Price:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"court-entry-price\",\n      name: \"entryPrice\",\n      onChange: this.handleInputChange,\n      value: this.state.court.entryPrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Update Court Details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })) : this.state.isNewFormDisplayed ? React.createElement(\"form\", {\n      onSubmit: this.handlePlayerSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"player-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Player Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"player-name\",\n      name: \"name\",\n      onChange: this.handlePlayerInputChange,\n      value: this.state.newPlayers.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"player-age-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Age-Group:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"player-age-group\",\n      name: \"ageGroup\",\n      onChange: this.handlePlayerInputChange,\n      value: this.state.newPlayers.ageGroup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"player-position\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Position:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"player-position\",\n      name: \"position\",\n      onChange: this.handlePlayerInputChange,\n      value: this.state.newPlayers.position,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"player-bio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Biography:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"player-bio\",\n      name: \"bio\",\n      onChange: this.handlePlayerInputChange,\n      value: this.state.newPlayers.bio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Add Player\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleToggleEditForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Edit Court Details\"), React.createElement(\"button\", {\n      onClick: this.handleDeleteCourt,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Delete Court\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \" \", this.state.court.gymName), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \" Address: \", this.state.court.address), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Number of Players Needed: \", this.state.court.numberOfPlayers), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Entry Price: \", this.state.court.entryPrice), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/courts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Return To Courts\")), React.createElement(\"button\", {\n      onClick: this.handleToggleNewPlayerForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Add Player\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Current Players:\"), playersList);\n  }\n\n}","map":{"version":3,"sources":["/Users/JordanClarke/Desktop/basketball-meetup/client/src/components/SingleCourt.js"],"names":["React","Component","axios","Redirect","Link","SingleCourt","state","court","isEditFormDisplayed","reDirectToHome","isNewFormDisplayed","players","newPlayers","name","ageGroup","position","bio","getCourt","get","props","match","params","courtId","then","res","setState","data","handleInputChange","event","copiedCourt","target","value","handlePlayerInputChange","copiedPlayer","handlePlayerSubmit","preventDefault","post","handleToggleNewPlayerForm","handleSubmit","put","_id","handleToggleEditForm","handleDeleteCourt","delete","componentDidMount","render","gymName","address","numberOfPlayers","entryPrice","playersList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport {Redirect, Link} from 'react-router-dom'\nexport default class SingleCourt extends Component {\nstate = {\n    court: {},\n    isEditFormDisplayed: false,\n    reDirectToHome: false,\n    isNewFormDisplayed: false,\n    players: [],\n    newPlayers: {\n        name: '',\n        ageGroup: '',\n        position: '',\n        bio: ''\n    }\n\n}\n    componentDidMount() {\n       this.getCourt()\n    }\n//Test\n    getCourt = () => {\n        axios.get(`/api/courts/${this.props.match.params.courtId}`)\n        .then((res) => {\n            this.setState({court: res.data})\n        })\n        axios.get(`/api/courts/${this.props.match.params.courtId}/players`)\n        .then((res) => {\n            this.setState({players: res.data})\n        }) \n    \n    }\n\n    handleInputChange =(event) => {\n        const copiedCourt = {...this.state.court}\n        copiedCourt[event.target.name] = event.target.value\n        this.setState({court: copiedCourt})\n    }\n//Test\n\nhandlePlayerInputChange =(event) => {\n    const copiedPlayer = {...this.state.newPlayers}\n    copiedPlayer[event.target.name] = event.target.value\n    this.setState({players: copiedPlayer})\n}\n\nhandlePlayerSubmit = (event) => {\n    event.preventDefault()\n\n    axios.post(`/api/courts/${this.props.match.params.courtId}/players`, this.state.newPlayers)\n    .then(() => {\n        this.setState({isNewFormDisplayed: false})\n        this.getCourt()\n    })\n}\nhandleToggleNewPlayerForm = () => {\n    this.setState((state) => {\n        return {isNewFormDisplayed: !state.isNewFormDisplayed}\n    })\n}\n//\n   \n    handleSubmit = (event) => {\n        event.preventDefault()\n        axios.put(`/api/courts/${this.state.court._id}`, this.state.court)\n        .then((res) => {\n            this.setState({\n                court: res.data,\n                isEditFormDisplayed: false\n            })\n        })\n    }\n    handleToggleEditForm = () => {\n        this.setState((state) => {\n            return {isEditFormDisplayed: !state.isEditFormDisplayed}\n        })\n    }\n    handleDeleteCourt = () => {\n        axios.delete(`/api/courts/${this.state.court._id}`)\n            .then(() => {\n                this.setState({reDirectToHome: true})\n            })\n    }\n    render() {\n        if(this.state.reDirectToHome) {\n            return <Redirect to='/courts' />\n        }\n\n  \n        return (\n\n            this.state.isEditFormDisplayed\n            ?\n            <form onSubmit={this.handleSubmit}>\n                <label htmlFor='court-gym-name'>Court Name</label>\n                <input\n                type='text'\n                id='court-gym-name'\n                name='gymName'\n                onChange={this.handleInputChange}\n                value={this.state.court.gymName}\n                />\n\n                <label htmlFor='court-address'>Address:</label>\n                <input\n                type='text'\n                id='court-address'\n                name='address'\n                onChange={this.handleInputChange}\n                value={this.state.court.address}\n                />\n\n                <label htmlFor='court-number-of-players'>Players Needed:</label>\n                <input\n                type='text'\n                id='court-number-of-players'\n                name='numberOfPlayers'\n                onChange={this.handleInputChange}\n                value={this.state.court.numberOfPlayers}\n                />\n\n                <label htmlFor='entry-price'>Entry Price:</label>\n                <input\n                type='text'\n                id='court-entry-price'\n                name='entryPrice'\n                onChange={this.handleInputChange}\n                value={this.state.court.entryPrice}\n                />\n\n                <input type='submit' value='Update Court Details' />\n            </form>\n              :\n              this.state.isNewFormDisplayed\n              ?\n              <form onSubmit={this.handlePlayerSubmit}>\n              <label htmlFor='player-name'>Player Name:</label>\n              <input \n              type='text'\n              id='player-name'\n              name='name'\n              onChange={this.handlePlayerInputChange}\n              value ={this.state.newPlayers.name}\n              />\n\n              <label htmlFor='player-age-group'>Age-Group:</label>\n              <input \n              type='text'\n              id='player-age-group'\n              name='ageGroup'\n              onChange={this.handlePlayerInputChange}\n              value ={this.state.newPlayers.ageGroup}\n              />\n\n              <label htmlFor='player-position'>Position:</label>\n              <input \n              type='text'\n              id='player-position'\n              name='position'\n              onChange={this.handlePlayerInputChange}\n              value ={this.state.newPlayers.position}\n              />\n\n              <label htmlFor='player-bio'>Biography:</label>\n              <input \n              type='text'\n              id='player-bio'\n              name='bio'\n              onChange={this.handlePlayerInputChange}\n              value ={this.state.newPlayers.bio}\n              />\n              <input\n              type='submit'\n              value='Add Player'\n              />\n              </form>\n              :\n            <div>\n                <button onClick={this.handleToggleEditForm}>Edit Court Details</button>\n                <button onClick={this.handleDeleteCourt}>Delete Court</button>\n                <h2> {this.state.court.gymName}</h2>\n                <h3> Address: {this.state.court.address}</h3>\n                <p>Number of Players Needed: {this.state.court.numberOfPlayers}</p>\n                <p>Entry Price: {this.state.court.entryPrice}</p>\n                <button><a href='/courts'>Return To Courts</a></button>\n                <button onClick={this.handleToggleNewPlayerForm}>Add Player</button>\n                \n\n        \n                <h2>Current Players:</h2>\n               {playersList}\n\n              \n\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}